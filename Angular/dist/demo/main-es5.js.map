{"version":3,"sources":["webpack:///src/app/shared/oesterreichimpft.service.ts","webpack:///src/app/shared/vaccinations.ts","webpack:///src/app/vaccinedate-list-item/vaccinedate-list-item.component.html","webpack:///src/app/vaccinedate-form/vaccinedate-form-error-messages.ts","webpack:///src/app/home/home.component.ts","webpack:///src/app/vaccinedate-form/vaccinedate-form.component.html","webpack:///src/app/vaccinedate-form/vaccinedate-form.component.ts","webpack:///src/app/vaccinedate-form/vaccinedate-form.component.css","webpack:///src/app/shared/token-interceptor.service.ts","webpack:///src/app/app.component.ts","webpack:///src/app/shared/vaccinedate-factory.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/shared/vaccinedate.ts","webpack:///src/$_lazy_route_resource lazy namespace object","webpack:///src/polyfills.ts","webpack:///src/app/login/login.component.html","webpack:///src/app/shared/authentication.service.ts","webpack:///src/app/login/login.component.css","webpack:///src/app/vaccinedate-list/vaccinedate-list.component.ts","webpack:///src/app/vaccinedate-list-item/vaccinedate-list-item.component.ts","webpack:///src/app/vaccinedate-details/vaccinedate-details.component.ts","webpack:///src/app/shared/UserPivot.ts","webpack:///src/app/app-routing.module.ts","webpack:///src/app/login/login.component.ts","webpack:///src/app/vaccinedate-list/vaccinedate-list.component.html","webpack:///src/app/vaccinedate-details/vaccinedate-details.component.html","webpack:///src/main.ts"],"names":["OesterreichimpftService","http","api","get","pipe","errorHandler","id","res","startTime","Date","starttime","endTime","endtime","userTimezoneOffset","getTimezoneOffset","getTime","day","maximum_attendees","vaccinations","vaccinedate","post","vaccination","put","userPivot","dateid","locid","vaccineuser","error","Vaccinations","vaccinelocation_id","vaccinedate_id","ErrorMessage","forControl","forValidator","text","VaccinedateFormErrorMessages","HomeComponent","selector","template","VaccinedateFormComponent","fb","vc","route","router","empty","vaccinelocations","isUpdatingVaccinedate","errors","snapshot","params","getSingleDate","subscribe","length","initVaccinedate","getAllLocations","locations","loc","selectedVaccinelocation","vaccinedateForm","group","toISOString","substring","required","min","max","vaccinelocation","statusChanges","updateErrorMessages","fromObject","value","updateDate","vac","updateVaccination","navigate","relativeto","createDate","createVaccination","reset","err","console","log","message","control","dirty","invalid","TokenInterceptorService","request","next","clone","setHeaders","Authorization","sessionStorage","getItem","handle","providedIn","AppComponent","authService","isLoggedIn","getInfoIfAdmin","VaccinedateFactory","rawVaccinedate","AppModule","imports","declarations","bootstrap","providers","provide","useValue","useClass","multi","Vaccinedate","webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","AuthenticationService","email","password","token","decodedToken","setItem","user","is_admin","Number","parseInt","removeItem","expirationDate","setUTCSeconds","exp","VaccinedateListComponent","getAllDates","vaccinedates","VaccinedateListItemComponent","VaccinedateDetailsComponent","getSingleLocation","getUsersByLocationAndDate","vaccineusers","userHasVaccination","checkUser","getCurrentUserId","pivot","vaccination_administered","vaccinationAdministered","confirm","removeDate","relativeTo","isLoggedOut","alert","userId","registerToVaccination","UserPivot","vaccination_id","user_id","routes","path","redirectTo","pathMatch","component","AppRoutingModule","forRoot","LoginComponent","loginForm","val","login","setSessionStorage","access_token","logout","bootstrapModule","ref","window","destroy"],"mappings":"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","file":"main-es5.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { Vaccinedate } from \"./vaccinedate\";\nimport { Vaccinelocation } from \"./vaccinelocation\";\nimport { Vaccinations } from \"./vaccinations\";\nimport { HttpClient } from '@angular/common/http';\nimport { Observable, throwError } from 'rxjs';\nimport { catchError, retry, map } from 'rxjs/operators';\nimport { User } from './user';\nimport { UserPivot } from './UserPivot';\n\n@Injectable()\nexport class OesterreichimpftService {\n\n  private api = 'https://oesterreichimpft.s1810456016.student.kwmhgb.at/api';\n\n  constructor(private http: HttpClient) { }\n\n  getAllDates(): Observable<Array<Vaccinedate>> {\n    // returns an Observable on which you can register to get data\n    return this.http.get(`\n    ${this.api}/vaccinedates`)\n      .pipe(retry(3)).pipe(catchError(this.errorHandler));\n  }\n\n  getAllLocations(): Observable<Array<Vaccinelocation>> {\n    return this.http.get(`\n   ${this.api}/vaccinelocations`)\n      .pipe(retry(3)).pipe(catchError(this.errorHandler));\n  }\n\n  getSingleDate(id: number): Observable<Vaccinedate> {\n    return this.http.get(`${this.api}/vaccinedate/${id}`)\n      .pipe(retry(3))\n      .pipe(map<any, Vaccinedate>(res => {\n        let startTime = new Date(res.starttime);\n        let endTime = new Date(res.endtime); \n\n        let userTimezoneOffset = startTime.getTimezoneOffset() * 60000;\n        startTime = new Date(startTime.getTime() - userTimezoneOffset);\n        endTime = new Date(endTime.getTime() - userTimezoneOffset);\n\n        return new Vaccinedate(res.id, new Date(res.day), startTime, endTime, res.maximum_attendees, res.vaccinations);\n      }))\n      .pipe(catchError(this.errorHandler));\n  }\n\n  getSingleLocation(id: number): Observable<Vaccinelocation> {\n    return this.http.get(`\n    ${this.api}/vaccinelocation/${id}`)\n      .pipe(retry(3)).pipe(catchError(this.errorHandler));\n  }\n\n  removeDate(id: number): Observable<any> {\n    return this.http.delete(`${this.api}/vaccinedate/${id}`)\n      .pipe(retry(3)).pipe(catchError(this.errorHandler));\n  }\n\n  createDate(vaccinedate: Vaccinedate): Observable<any> {\n    return this.http.post(`${this.api}/vaccinedate`, vaccinedate)\n      .pipe(retry(3)).pipe(catchError(this.errorHandler));\n  }\n\n  createVaccination(vaccination: Vaccinations): Observable<any> {\n    return this.http.post(`${this.api}/vaccination`, vaccination)\n      .pipe(retry(3)).pipe(catchError(this.errorHandler));\n  }\n\n  updateDate(vaccinedate: Vaccinedate): Observable<any> {\n    return this.http.put(`${this.api}/vaccinedate/${vaccinedate.id}`, vaccinedate);\n  }\n\n  updateVaccination(vaccination: Vaccinations): Observable<any> {\n    return this.http.put(`${this.api}/vaccination/${vaccination.id}`, vaccination)\n      .pipe(retry(3)).pipe(catchError(this.errorHandler));\n  }\n\n  registerToVaccination(userPivot: UserPivot): Observable<any> {\n    return this.http.post(`${this.api}/vaccinationUser`, userPivot)\n      .pipe(retry(3)).pipe(catchError(this.errorHandler));\n  }\n\n  getUsersByLocationAndDate(dateid: number, locid: number): Observable<User[]> {\n    return this.http.get(`${this.api}/vaccineuser/${dateid}/${locid}`)\n      .pipe(retry(3)).pipe(catchError(this.errorHandler));  \n  }\n\n  vaccinationAdministered(vaccineuser: User): Observable<any> {\n    return this.http.put(`${this.api}/vaccineuser/${vaccineuser.id}`, vaccineuser)\n      .pipe(retry(3)).pipe(catchError(this.errorHandler));  \n  }\n\n  private errorHandler(error: Error | any): Observable<any> {\n    return throwError(error);\n  }\n\n\n\n\n}\n","export class Vaccinations {\n    constructor(\n        public id: number,\n        public vaccinelocation_id: number,\n        public vaccinedate_id: number){\n    }\n}\n","export default \"<div class=\\\"content\\\">\\n    <div class=\\\"header\\\">\\n        <i class=\\\"calendar alternate icon\\\"></i> {{ vaccinedate.day | date:'dd.MM.yyyy' }} | <i class=\\\"clock icon\\\"></i>{{ vaccinedate.starttime | date:'HH:mm' }} - {{ vaccinedate.endtime | date:'HH:mm' }}\\n    </div>\\n    <div class=\\\"description\\\" style=\\\"margin-top: 0.5em;\\\">\\n        <i class=\\\"map pin icon\\\"></i> {{ vaccinedate.city }} - {{ vaccinedate.description }}\\n    </div>\\n    <div style=\\\"margin-top: 1em; border-bottom: 0.1em solid lightgrey;\\\"></div>\\n</div>\";","export class ErrorMessage {\n    constructor(\n        public forControl: string,\n        public forValidator: string,\n        public text: string\n    ){}\n}\n\nexport const VaccinedateFormErrorMessages = [\n    new ErrorMessage('maximum_attendees', 'required', 'Die maximale Teilnehmeranzahl muss angegeben werden!'),\n    new ErrorMessage('maximum_attendees', 'min', 'Die minimale Teilnehmeranzahl ist 1!'),\n    new ErrorMessage('maximum_attendees', 'max', 'Die maximale Teilnehmeranzahl ist 200!'),\n    new ErrorMessage('starttime', 'required', 'Die Startzeit des Impftermins muss angegeben werden!'),\n    new ErrorMessage('endtime', 'required', 'Die Endzeit des Impftermins muss angegeben werden!'),\n    new ErrorMessage('day', 'required', 'Der Impftag muss angegeben werden!')\n]","import { Component, OnInit } from '@angular/core';\nimport { AuthenticationService } from '../shared/authentication.service';\n\n@Component({\n  selector: 'app-home',\n  template: `\n  <div class=\"ui center aligned container\">\n  <h2 class=\"ui center aligned icon header\">\n  <i class=\"circular syringe icon\"></i>\n  Österreich impft\n</h2>\n<div class=\"content\">Willkommen zu Österreich impft. Sie können sich hier für eine Impfung anmelden.</div>\n    <button style=\"margin-top: 1em;\" [routerLink]=\"'/vaccinedates'\" textAlign=\"center\" class=\"ui basic button\"><i class=\"icon list\"></i>Zu der Terminliste</button>\n      </div>\n  `,\n  styles: []\n})\nexport class HomeComponent implements OnInit {\n\n  private authService: AuthenticationService\n  \n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","export default \"<div class=\\\"ui container\\\">\\n    <h1>Termin Formular</h1>\\n    <form class=\\\"ui large form\\\" [formGroup]=\\\"vaccinedateForm\\\" (ngSubmit)=\\\"submitForm()\\\">\\n\\n        <input type=\\\"hidden\\\" name=\\\"id\\\">\\n        <div class=\\\"field\\\">\\n            <label>Termin-Datum</label>\\n            <input formControlName=\\\"day\\\" type=\\\"date\\\"  id=\\\"day\\\" />\\n            <div *ngIf=\\\"errors.day\\\" class=\\\"ui pointing red basic label\\\">{{ errors.day }}</div>\\n        </div>\\n\\n        <div class=\\\"field\\\">\\n            <label>Startzeit</label>\\n            <input type=\\\"time\\\" formControlName=\\\"starttime\\\" name=\\\"starttime\\\"> \\n            <div *ngIf=\\\"errors.starttime\\\" class=\\\"ui pointing red basic label\\\">{{ errors.starttime }}</div>\\n        </div>\\n\\n        <div class=\\\"field\\\">\\n            <label>Endzeit</label>\\n            <input type=\\\"time\\\" formControlName=\\\"endtime\\\" name=\\\"endtime\\\">\\n            <div *ngIf=\\\"errors.endtime\\\" class=\\\"ui pointing red basic label\\\">{{ errors.endtime }}</div>\\n        </div>\\n\\n        <div class=\\\"field\\\">\\n            <label>Maximale Teilnehmeranzahl</label>\\n            <input type=\\\"number\\\" formControlName=\\\"maximum_attendees\\\">\\n            <div *ngIf=\\\"errors.maximum_attendees\\\" class=\\\"ui pointing red basic label\\\">{{ errors.maximum_attendees }}\\n            </div>\\n        </div>\\n\\n        <div class=\\\"field\\\">\\n            <label>Impfort</label>\\n            <select class=\\\"custom-select\\\" [(ngModel)]=\\\"selectedLocation\\\" formControlName=\\\"vaccinelocation\\\">\\n                <option *ngFor=\\\"let vaccinelocation of vaccinelocations\\\" [ngValue]=\\\"vaccinelocation\\\">\\n                    {{ vaccinelocation.city }}\\n                </option>\\n            </select>\\n        </div>\\n\\n\\n        <button type=\\\"submit\\\" class=\\\"ui button\\\" [disabled]=\\\"vaccinedateForm.invalid\\\">Speichern</button>\\n    </form>\\n</div>\";","import { ActivatedRoute, Router } from \"@angular/router\";\nimport { Component, OnInit } from \"@angular/core\";\nimport { FormBuilder, FormGroup, FormArray, Validators, FormControl } from \"@angular/forms\";\nimport { VaccinedateFactory } from '../shared/vaccinedate-factory';\nimport { OesterreichimpftService } from \"../shared/oesterreichimpft.service\";\nimport { VaccinedateFormErrorMessages } from './vaccinedate-form-error-messages';\nimport { Vaccinedate } from \"../shared//vaccinedate\";\nimport { Vaccinelocation } from \"../shared//vaccinelocation\";\nimport { Vaccinations } from \"../shared//vaccinations\";\n\n@Component({\n  selector: 'app-vaccinedate-form',\n  templateUrl: './vaccinedate-form.component.html',\n  styleUrls: ['./vaccinedate-form.component.css']\n})\nexport class VaccinedateFormComponent implements OnInit {\n\n  vaccinedateForm: FormGroup;\n  vaccinedate = VaccinedateFactory.empty();\n  vaccinelocations = [];\n  selectedVaccinelocation: Vaccinelocation;\n  isUpdatingVaccinedate = false;\n  errors: { [key: string]: string } = {};\n  selectedLocation;\n\n  constructor(\n    private fb: FormBuilder,\n    private vc: OesterreichimpftService,\n    private route: ActivatedRoute,\n    private router: Router\n  ) { }\n\n  ngOnInit(): void {\n    const dateid = this.route.snapshot.params[\"dateid\"];\n    const locid = this.route.snapshot.params[\"locid\"];\n\n    if (dateid && locid) {\n      this.isUpdatingVaccinedate = true;\n\n      this.vc.getSingleDate(dateid).subscribe(vaccinedate => {\n        this.vaccinedate = vaccinedate;\n        if (this.vaccinelocations.length != 0)\n          this.initVaccinedate();\n      });\n      \n      this.vc.getAllLocations().subscribe(locations => {\n        this.vaccinelocations = locations;\n        for(const loc of this.vaccinelocations){\n          if (loc.id == locid) {\n            this.selectedVaccinelocation = loc;\n          }\n        }\n\n\n        if (this.vaccinedate != null)\n          this.initVaccinedate();\n      });\n    } else {\n      this.vc.getAllLocations().subscribe(locations => {\n        this.vaccinelocations = locations;\n      });\n    }\n    this.initVaccinedate();\n  }\n\n  initVaccinedate() {\n    this.vaccinedateForm = this.fb.group({\n      id: this.vaccinedate.id,\n      day: [this.vaccinedate.day?.toISOString()?.substring(0, 10), Validators.required],\n      starttime: [this.vaccinedate?.starttime?.toISOString().substring(11,16), Validators.required],\n      endtime: [this.vaccinedate.endtime?.toISOString()?.substring(11,16), Validators.required],\n      maximum_attendees: [this.vaccinedate.maximum_attendees, [Validators.required, Validators.min(1), Validators.max(200)]],\n      vaccinelocation: this.selectedVaccinelocation \n    });\n\n    this.vaccinedateForm.statusChanges.subscribe(() =>\n      this.updateErrorMessages());\n  }\n\n  submitForm() {\n    // Formularfelder auf Objekt mappen durch fromObject in VaccinedateFactory\n    const vaccinedate: Vaccinedate = VaccinedateFactory.fromObject(this.vaccinedateForm.value);\n\n    if (this.isUpdatingVaccinedate) {\n      this.vc.updateDate(vaccinedate).subscribe(res => {\n        const vac = new Vaccinations(this.vaccinedate.vaccinations[0].id, this.vaccinedateForm.value.vaccinelocation.id, vaccinedate.id);\n\n        this.vc.updateVaccination(vac).subscribe(res => {\n          this.router.navigate([\"../../vaccinedates\", vaccinedate.id, this.vaccinedateForm.value.vaccinelocation.id]), {\n            relativeto: this.route\n          }\n        })\n      });\n    } else {\n      // console.log(vaccinedate);\n      this.vc.createDate(vaccinedate).subscribe(res => {\n        const vac = new Vaccinations(null, this.vaccinedateForm.value.vaccinelocation.id, res.id);\n        this.vc.createVaccination(vac).subscribe(res => {\n          this.vaccinedate = VaccinedateFactory.empty();\n          this.vaccinedateForm.reset(VaccinedateFactory.empty());\n          this.router.navigate([\"../vaccinedates\"]), {\n            relativeto: this.route\n          }\n        });\n      },\n        err => {\n          console.log(\"Fehler ist passiert\", err)\n        })\n    }\n  }\n\n  updateErrorMessages() {\n    // console.log('form invalid?' + this.vaccinedateForm.invalid);\n\n    this.errors = {};\n\n    for (const message of VaccinedateFormErrorMessages) {\n      const control = this.vaccinedateForm.get(message.forControl);\n      if (\n        control &&\n        control.dirty &&\n        control.invalid &&\n        control.errors[message.forValidator] &&\n        !this.errors[message.forControl]\n      ) {\n        this.errors[message.forControl] = message.text;\n      }\n    }\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ2YWNjaW5lZGF0ZS1mb3JtLmNvbXBvbmVudC5jc3MifQ== */\";","import { HttpHandler, HttpInterceptor, HttpRequest, HttpEvent } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TokenInterceptorService implements HttpInterceptor {\n\n  intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> { \n    request = request.clone({\n      setHeaders: {\n        Authorization: `Bearer ${sessionStorage.getItem('token')}`\n      }\n    });\n    return next.handle(request);\n  }\n}\n","import { Component, VERSION } from '@angular/core';\nimport { AuthenticationService } from './shared/authentication.service';\nimport { Vaccinedate } from './shared/vaccinedate';\n\n@Component({\n  selector: 'vc-root',\n  templateUrl: './app.component.html'\n})\n\nexport class AppComponent  {\n  constructor(private authService : AuthenticationService){}\n    isLoggedIn(){\n      return this.authService.isLoggedIn();\n    }\n\n    getInfoIfAdmin(){\n      return this.authService.getInfoIfAdmin();\n    }\n\n    getLoginLabel(){\n      return this.isLoggedIn() ? \"Logout\" : \"Login\";\n    }\n  }\n","import { DatePipe } from '@angular/common';\nimport { Vaccinedate } from './vaccinedate';\n\nexport class VaccinedateFactory {\n    static empty(): Vaccinedate {\n        return new Vaccinedate(null, null, null, null, null, []);\n    }\n\n    static fromObject(rawVaccinedate: any) : Vaccinedate {\n        const vaccinedate: Vaccinedate = new Vaccinedate( \n            rawVaccinedate.id,\n            typeof(rawVaccinedate.day) === 'string' ? new Date(rawVaccinedate.day) : rawVaccinedate.day,\n            typeof(rawVaccinedate.starttime) === 'string' ? new Date(rawVaccinedate.day + \" \" + rawVaccinedate.starttime) : rawVaccinedate.starttime,\n            typeof(rawVaccinedate.endtime) === 'string' ? new Date(rawVaccinedate.day + \" \" + rawVaccinedate.endtime) : rawVaccinedate.endtime,\n            rawVaccinedate.maximum_attendees,\n            rawVaccinedate.vaccinations\n        );\n        \n        // to remove timezone from date object\n        let userTimezoneOffset = vaccinedate.starttime.getTimezoneOffset() * 60000;\n        vaccinedate.starttime = new Date(vaccinedate.starttime.getTime() - userTimezoneOffset);\n        vaccinedate.endtime = new Date(vaccinedate.endtime.getTime() - userTimezoneOffset);\n\n        return vaccinedate;\n    }\n}\n","export default \"<!-- externes Template für Start-Komponente -->\\n<div class=\\\"ui {{ isLoggedIn() && getInfoIfAdmin() == '1' ? 'four' : 'three' }} item secondary pointing menu\\\">\\n    <a routerLink=\\\"home\\\" routerLinkActive=\\\"active\\\" class=\\\"item\\\">Home</a>\\n    <a routerLink=\\\"vaccinedates\\\" routerLinkActive=\\\"active\\\" class=\\\"item\\\">Liste der Impftermine</a>\\n    <a *ngIf=\\\"isLoggedIn() && getInfoIfAdmin() == '1'\\\" routerLink=\\\"admin\\\" routerLinkActive=\\\"active\\\" class=\\\"item\\\">Adminbereich</a>\\n\\n    <a routerLink=\\\"login\\\" routerLinkActive=\\\"active\\\" class=\\\"item\\\">{{ getLoginLabel() }}</a>\\n</div>\\n<router-outlet></router-outlet>\";","import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { FormsModule } from '@angular/forms';\nimport { APP_BASE_HREF } from '@angular/common';\nimport { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { ReactiveFormsModule } from '@angular/forms';\n\nimport { AppComponent } from './app.component';\nimport { VaccinedateListComponent } from './vaccinedate-list/vaccinedate-list.component';\nimport { VaccinedateListItemComponent } from './vaccinedate-list-item/vaccinedate-list-item.component';\nimport { VaccinedateDetailsComponent } from './vaccinedate-details/vaccinedate-details.component';\n\nimport { OesterreichimpftService } from './shared/oesterreichimpft.service';\nimport { HomeComponent } from './home/home.component';\nimport { AppRoutingModule } from './app-routing.module';\nimport { VaccinedateFormComponent } from './vaccinedate-form/vaccinedate-form.component';\nimport { LoginComponent } from './login/login.component';\nimport { AuthenticationService } from './shared/authentication.service';\nimport { TokenInterceptorService } from './shared/token-interceptor.service';\n\n@NgModule({\n  imports:      [ BrowserModule, FormsModule, AppRoutingModule, HttpClientModule, ReactiveFormsModule ],\n  declarations: [ AppComponent, VaccinedateListComponent, VaccinedateListItemComponent, VaccinedateDetailsComponent, HomeComponent, VaccinedateFormComponent, LoginComponent ],\n  bootstrap:    [ AppComponent ],\n  providers:    [ {provide: APP_BASE_HREF, useValue:'/'}, OesterreichimpftService, AuthenticationService, {\n    provide: HTTP_INTERCEPTORS,\n    useClass: TokenInterceptorService,\n    multi: true\n  }]\n})\n\nexport class AppModule { }\n","import { Vaccinations } from \"./vaccinations\";\n\nexport class Vaccinedate {\n    constructor(\n        public id: number,\n        public day: Date,\n        public starttime: Date ,\n        public endtime: Date,\n        public maximum_attendees: number,\n        public vaccinations: Vaccinations[]){\n    }\n} \n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"crnd\";","/**\n * This file includes polyfills needed by Angular and is loaded before the app.\n * You can add your own extra polyfills to this file.\n *\n * This file is divided into 2 sections:\n *   1. Browser polyfills. These are applied before loading ZoneJS and are sorted by browsers.\n *   2. Application imports. Files imported after ZoneJS that should be loaded before your main\n *      file.\n *\n * The current setup is for so-called \"evergreen\" browsers; the last versions of browsers that\n * automatically update themselves. This includes Safari >= 10, Chrome >= 55 (including Opera),\n * Edge >= 13 on the desktop, and iOS 10 and Chrome on mobile.\n *\n * Learn more in https://angular.io/docs/ts/latest/guide/browser-support.html\n */\n\n/***************************************************************************************************\n * BROWSER POLYFILLS\n */\n\n/** IE9, IE10 and IE11 requires all of the following polyfills. **/\n// import 'core-js/es6/symbol';\n// import 'core-js/es6/object';\n// import 'core-js/es6/function';\n// import 'core-js/es6/parse-int';\n// import 'core-js/es6/parse-float';\n// import 'core-js/es6/number';\n// import 'core-js/es6/math';\n// import 'core-js/es6/string';\n// import 'core-js/es6/date';\n// import 'core-js/es6/array';\n// import 'core-js/es6/regexp';\n// import 'core-js/es6/map';\n// import 'core-js/es6/set';\n\n/** IE10 and IE11 requires the following for NgClass support on SVG elements */\n// import 'classlist.js';  // Run `npm install --save classlist.js`.\n\n/** IE10 and IE11 requires the following to support `@angular/animation`. */\n// import 'web-animations-js';  // Run `npm install --save web-animations-js`.\n\n\n/** Evergreen browsers require these. **/\n// import 'core-js/es6/reflect';\n// import 'core-js/es7/reflect';\n\n\n/**\n * Web Animations `@angular/platform-browser/animations`\n * Only required if AnimationBuilder is used within the application and using IE/Edge or Safari.\n * Standard animation support in Angular DOES NOT require any polyfills (as of Angular 6.0).\n */\n// import 'web-animations-js';  // Run `npm install --save web-animations-js`.\n\n\n\n/***************************************************************************************************\n * Zone JS is required by Angular itself.\n */\nimport 'zone.js/dist/zone';  // Included with Angular CLI.\n\n\n/***************************************************************************************************\n * APPLICATION IMPORTS\n */\n\n/**\n * Date, currency, decimal and percent pipes.\n * Needed for: All but Chrome, Firefox, Edge, IE11 and Safari 10\n */\n// import 'intl';  // Run `npm install --save intl`.","export default \"<div class=\\\"ui container\\\">\\n    <div *ngIf=\\\"!isLoggedIn()\\\">\\n        <h2 class=\\\"ui center aligned icon header\\\">\\n            <i class=\\\"circular key icon\\\"></i>\\n            Login\\n        </h2>\\n        <form class=\\\"ui large form\\\" [formGroup]=\\\"loginForm\\\" (ngSubmit)=\\\"login()\\\">\\n            <div class=\\\"field\\\">\\n                <label>E-Mail</label>\\n                <input type=\\\"email\\\" id=\\\"email\\\" formControlName=\\\"email\\\">\\n                <div *ngIf=\\\"loginForm.get('email').invalid &&\\n            (loginForm.get('email').dirty ||\\n            loginForm.get('email').touched) &&\\n            loginForm.get('email').hasError('required')\\\" class=\\\"ui negative message\\\">E-Mail verpflichtend</div>\\n\\n                <div *ngIf=\\\"loginForm.get('email').invalid &&\\n            (loginForm.get('email').dirty ||\\n            loginForm.get('email').touched) &&\\n            loginForm.get('email').hasError('email')\\\" class=\\\"ui negative message\\\">E-Mail Format erforderlich</div>\\n            </div>\\n            <div class=\\\"field\\\">\\n                <label>Passwort</label>\\n                <input type=\\\"password\\\" formControlName=\\\"password\\\">\\n                <div *ngIf=\\\"loginForm.get('password').invalid &&\\n            (loginForm.get('password').dirty ||\\n            loginForm.get('password').touched)\\\" class=\\\"ui negative message\\\">Passwort verpflichtend</div>\\n            </div>\\n\\n            <button type=\\\"submit\\\" class=\\\"ui button\\\" [disabled]=\\\"loginForm.invalid\\\">Login</button>\\n        </form>\\n    </div>\\n\\n    <div *ngIf=\\\"isLoggedIn()\\\">\\n        <h2 class=\\\"ui center aligned icon header\\\">\\n            <i class=\\\"circular sign-in alternate icon\\\"></i>\\n            <button type=\\\"button\\\" class=\\\"ui button\\\" (click)=\\\"logout()\\\">Logout</button>\\n        </h2>\\n\\n\\n    </div>\\n</div>\";","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport jwt_decode from \"jwt-decode\";\n\ninterface Token {\n  exp: number;\n  user: {\n    id: string,\n    is_admin: string\n  }\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthenticationService {\n\n  private api = 'https://oesterreichimpft.s1810456016.student.kwmhgb.at/api/auth';\n\n  constructor(private http: HttpClient) { }\n\n   // asynchronous\n  login(email: string, password: string){\n    return this.http.post(`${this.api}/login`, {\n      email: email,\n      password: password\n    });\n  }\n\n  public setSessionStorage(token: string){\n    console.log(\"storing token\");\n\n    const decodedToken = jwt_decode(token) as Token;\n    sessionStorage.setItem(\"token\", token);\n    sessionStorage.setItem(\"userId\", decodedToken.user.id);\n    sessionStorage.setItem(\"isAdmin\", decodedToken.user.is_admin);\n  }\n\n  public getCurrentUserId(): number {\n    return Number.parseInt(sessionStorage.getItem(\"userId\"));\n  }\n\n  public getInfoIfAdmin(){\n    return Number.parseInt(sessionStorage.getItem(\"isAdmin\"));\n  }\n\n  logout(){\n    this.http.post(`${this.api}/logout`, {});\n    sessionStorage.removeItem(\"token\");\n    sessionStorage.removeItem(\"userId\");\n    sessionStorage.removeItem(\"isAdmin\");\n    console.log(\"logged out\");  \n  }\n\n  public isLoggedIn(){\n    if(sessionStorage.getItem(\"token\")){\n      let token: string = sessionStorage.getItem(\"token\");\n      const decodedToken = jwt_decode(token) as Token;\n      let expirationDate: Date = new Date(0);\n      expirationDate.setUTCSeconds(decodedToken.exp); \n      if(expirationDate < new Date()){\n        console.log(\"token expired\");\n        sessionStorage.removeItem(\"token\");\n        return false; \n      }\n      return true; \n    } else {\n      return false;\n    }\n  }\n\n  public isLoggedOut(){\n    return !this.isLoggedIn();\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJsb2dpbi5jb21wb25lbnQuY3NzIn0= */\";","import { Component, EventEmitter, OnInit, Output } from '@angular/core';\nimport { OesterreichimpftService } from '../shared/oesterreichimpft.service';\nimport { Vaccinedate } from \"../shared/vaccinedate\";\n\n@Component({\n  selector: 'vc-vaccinedate-list',\n  templateUrl: './vaccinedate-list.component.html',\n  styleUrls: []\n})\nexport class VaccinedateListComponent implements OnInit {\n\n  vaccinedates: Vaccinedate[];\n\n  constructor(private vc: OesterreichimpftService) { }\n\n  ngOnInit(): void {\n    this.vc.getAllDates().subscribe(res => this.vaccinedates = res);\n  }\n\n}\n","import { Component, OnInit, Input } from '@angular/core';\nimport { Vaccinedate } from \"../shared/vaccinedate\";\n\n@Component({\n  selector: 'a.vc-vaccinedate-list-item',\n  templateUrl: './vaccinedate-list-item.component.html',\n  styleUrls: []\n})\nexport class VaccinedateListItemComponent implements OnInit {\n\n  @Input() vaccinedate: Vaccinedate\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\nimport { Vaccinedate } from \"../shared//vaccinedate\";\nimport { Vaccinelocation } from \"../shared//vaccinelocation\";\nimport { User } from \"../shared/user\";\nimport { OesterreichimpftService } from '../shared/oesterreichimpft.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { AuthenticationService } from '../shared/authentication.service'\nimport { UserPivot } from '../shared/UserPivot';\n\n@Component({\n  selector: 'vc-vaccinedate-details',\n  templateUrl: './vaccinedate-details.component.html',\n  styleUrls: []\n})\nexport class VaccinedateDetailsComponent implements OnInit {\n\n  vaccinedate: Vaccinedate\n  vaccinelocation: Vaccinelocation\n  vaccineusers: User[]\n  userPivot: UserPivot\n  userHasVaccination: boolean\n\n  constructor(\n    private vc: OesterreichimpftService,\n    private route: ActivatedRoute,\n    private router: Router,\n    private authService: AuthenticationService\n\n  ) { }\n\n  ngOnInit(): void {\n    // Access to parameters in the URL\n    const params = this.route.snapshot.params;\n    this.vc.getSingleDate(params['dateid']).subscribe(res => {\n      this.vaccinedate = res;\n\n      let userTimezoneOffset = this.vaccinedate.starttime.getTimezoneOffset() * 60000;\n      this.vaccinedate.starttime = new Date(this.vaccinedate.starttime.getTime() + userTimezoneOffset);\n      this.vaccinedate.endtime = new Date(this.vaccinedate.endtime.getTime() + userTimezoneOffset);\n    });\n    this.vc.getSingleLocation(params['locid']).subscribe(res => this.vaccinelocation = res);\n    this.vc.getUsersByLocationAndDate(params['dateid'], params['locid']).subscribe(res => {\n      this.vaccineusers = res;\n      this.userHasVaccination = this.checkUser();\n      console.log(this.vaccineusers);\n    });\n    \n\n  }\n\n  // check if registration is full (maximum number of attendees for vaccination is reached)\n  checkAttendees() {\n    if (this.vaccineusers && this.vaccineusers.length == this.vaccinedate.maximum_attendees) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  // check if current logged in user is already registered to a vaccination --> if true show message\n  checkUser() {\n    if (this.vaccineusers) {\n      for (var vaccineuser of this.vaccineusers) {\n        if (vaccineuser.id == this.authService.getCurrentUserId()) {\n          return true;\n        }\n      }\n    }\n  }\n\n  // check if checkbox is checked so user vaccination is administered or not\n  checkValue(vaccineuser: User){\n    if (vaccineuser.pivot.vaccination_administered === 0) \n      vaccineuser.pivot.vaccination_administered = 1;\n    else \n      vaccineuser.pivot.vaccination_administered = 0;\n    \n    this.vc.vaccinationAdministered(vaccineuser).subscribe();\n  }\n\n  // remove vaccinedate \n  removeVaccinedate() {\n    if (confirm('Wollen Sie diesen Termin wirklich löschen?')) {\n      this.vc.removeDate(this.vaccinedate.id)\n        .subscribe(res => this.router.navigate(['../../'], { relativeTo: this.route }));\n    }\n  }\n\n  // register user to vaccination if logged in, otherwise return message\n  registerVaccination() {\n    if (this.authService.isLoggedOut()) {\n      alert('Sie müssen sich anmelden um einen Termin zu buchen!');\n    } else {\n      const userId = this.authService.getCurrentUserId();\n      const userPivot = new UserPivot(this.vaccinedate.vaccinations[0].id, userId, null);\n      this.vc.registerToVaccination(userPivot).subscribe(res => this.userPivot = res);\n      this.userHasVaccination = true;\n      alert('Sie wurden zu diesem Termin angemeldet!');\n    }\n  }\n}\n","export class UserPivot {\n    constructor(\n        public vaccination_id: number,\n        public user_id: number,\n        public vaccination_administered: number){\n    \n    }\n}\n","// Routen Konfigurationsfile\n\nimport { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { VaccinedateDetailsComponent } from './vaccinedate-details/vaccinedate-details.component';\nimport { VaccinedateListComponent } from './vaccinedate-list/vaccinedate-list.component';\nimport { HomeComponent } from './home/home.component';\nimport { VaccinedateFormComponent } from './vaccinedate-form/vaccinedate-form.component';\nimport { LoginComponent } from './login/login.component';\n\n\n// Welche Adresse mappt auf welche Component?\nconst routes: Routes = [\n    { path: '', redirectTo: 'home', pathMatch: 'full' },\n    { path: 'home', component: HomeComponent },\n    { path: 'vaccinedates', component: VaccinedateListComponent },\n    { path: 'vaccinedates/:dateid/:locid', component: VaccinedateDetailsComponent }, \n    { path: 'admin', component: VaccinedateFormComponent },\n    { path: 'admin/:dateid/:locid', component: VaccinedateFormComponent },\n    { path: 'login', component: LoginComponent }\n];\n\n@NgModule({\n    imports: [RouterModule.forRoot(routes)],\n    exports: [RouterModule],\n    providers: []\n})\n\nexport class AppRoutingModule {\n\n}","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { AuthenticationService } from '../shared/authentication.service';\n\ninterface Response {\n  access_token: string;\n}\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent implements OnInit {\n\n  loginForm: FormGroup;\n\n\n  constructor(\n    private vc: FormBuilder,\n    private router: Router,\n    private authService : AuthenticationService\n  ) { }\n\n  ngOnInit(): void {\n    this.loginForm = this.vc.group({\n      email: [\"\", [Validators.required, Validators.email]],\n      password: [\"\", Validators.required]\n    })\n  }\n\n  login(){\n    const val = this.loginForm.value;\n    if(val.email && val.password){\n      // login \n      this.authService.login(val.email, val.password).subscribe(res => {\n        // console.log(res);\n        this.authService.setSessionStorage(\n          (res as Response).access_token)\n      });\n    }\n  }\n\n  isLoggedIn(){\n    return this.authService.isLoggedIn();\n  }\n\n  logout(){\n    return this.authService.logout();\n  }\n\n}\n","export default \"<div class=\\\"ui container\\\">\\n    <div class=\\\"ui middle aligned animated list\\\">\\n        <h2 class=\\\"ui header\\\" style=\\\"margin-top: 1em; margin-bottom: 1em;\\\">\\n            <i class=\\\"calendar alternate icon\\\"></i>\\n            Impftermine\\n        </h2>\\n        <a *ngFor=\\\"let vaccinedate of vaccinedates\\\" class=\\\"item vc-vaccinedate-list-item\\\" style=\\\"margin-top: 1em;\\\" [vaccinedate]=\\\"vaccinedate\\\"\\n            [routerLink]=\\\"['/vaccinedates', vaccinedate.vaccinedate_id, vaccinedate.vaccinelocation_id]\\\">\\n        </a>\\n    </div>\\n</div>\";","export default \"<div class=\\\"ui container\\\" *ngIf=\\\"vaccinedate && vaccinelocation\\\">\\n    <h2 style=\\\"margin-top: 1em; margin-bottom: 1em;\\\">Impfdetails</h2>\\n    <div class=\\\"ui container\\\">\\n        <div *ngIf=\\\"userHasVaccination && authService.isLoggedIn() && authService.getInfoIfAdmin() == '0'\\\"\\n            class=\\\"ui positive message\\\">\\n            <div class=\\\"header\\\">\\n                Wichtige Information!\\n            </div>\\n            <p>Du bist bereits zu dieser Impfung angemeldet.</p>\\n        </div>\\n        <h4 class=\\\"ui header\\\">\\n            <i class=\\\"calendar alternate icon\\\"></i>\\n            <div class=\\\"content\\\">\\n                Impftag\\n                <div class=\\\"sub header\\\">{{ vaccinedate.day | date:'dd.MM.yyyy' }}</div>\\n            </div>\\n        </h4>\\n        <h4 class=\\\"ui header\\\">\\n            <i class=\\\"clock icon\\\"></i>\\n            <div class=\\\"content\\\">\\n                Impfzeitraum\\n                <div class=\\\"sub header\\\">{{ vaccinedate.starttime | date:'HH:mm' }} - {{ vaccinedate.endtime |\\n                    date:'HH:mm' }} Uhr</div>\\n            </div>\\n        </h4>\\n        <h4 class=\\\"ui header\\\">\\n            <i class=\\\"map pin icon\\\"></i>\\n            <div class=\\\"content\\\">\\n                Impfort\\n                <div class=\\\"sub header\\\">{{ vaccinelocation.city }}, {{ vaccinelocation.description }}</div>\\n            </div>\\n        </h4>\\n\\n        <h4 *ngIf=\\\"authService.isLoggedIn() && authService.getInfoIfAdmin() == '1'\\\" class=\\\"ui header\\\">\\n            <i class=\\\"user outline icon\\\"></i>\\n            <div class=\\\"content\\\">\\n                Maximale Teilnehmeranzahl\\n                <div class=\\\"sub header\\\">{{ vaccinedate.maximum_attendees }} Personen</div>\\n                <div class=\\\"sub header\\\" *ngIf=\\\"vaccineusers\\\">{{ vaccineusers.length }}\\n                    Person(en) sind bereits angemeldet</div>\\n            </div>\\n        </h4>\\n\\n        <div *ngIf=\\\"authService.isLoggedIn() && authService.getInfoIfAdmin() == '1'\\\">\\n            <h2>Angemeldete Personen</h2>\\n            <div *ngFor=\\\"let vaccineuser of vaccineusers\\\">\\n                <h4 class=\\\"ui header\\\">\\n                    <i class=\\\"male icon\\\"></i>\\n                    <div class=\\\"content\\\">\\n                        Name\\n                        <div class=\\\"sub header\\\">{{ vaccineuser.firstname }} {{ vaccineuser.lastname }}</div>\\n                        <div class=\\\"sub header\\\">Impfung verabreicht?\\n                            <input value=\\\"name\\\" type=\\\"checkbox\\\" [checked]=\\\"vaccineuser.pivot.vaccination_administered\\\"\\n                            (change)=\\\"checkValue(vaccineuser)\\\" >\\n                        </div>\\n                    </div>\\n                </h4>\\n            </div>\\n        </div>\\n    </div>\\n\\n\\n    <div style=\\\"margin-top: 2em;\\\">\\n        <button [routerLink]=\\\"'/vaccinedates'\\\" class=\\\"ui basic button\\\"><i class=\\\"icon list\\\"></i>Zu der\\n            Terminliste\\n        </button>\\n\\n        <button *ngIf=\\\"authService.isLoggedIn() && authService.getInfoIfAdmin() == '0' || authService.isLoggedOut()\\\"\\n            class=\\\"ui basic button\\\" (click)=\\\"registerVaccination()\\\" [disabled]=\\\"checkAttendees() || userHasVaccination\\\">\\n            <i class=\\\"write icon\\\"></i>Zum Termin anmelden\\n        </button>\\n\\n        <button *ngIf=\\\"authService.isLoggedIn() && authService.getInfoIfAdmin() == '1'\\\" class=\\\"ui red basic button\\\"\\n            (click)=\\\"removeVaccinedate()\\\">\\n            <i class=\\\"remove icon\\\"></i>Termin löschen\\n        </button>\\n\\n\\n        <a *ngIf=\\\"authService.isLoggedIn() && authService.getInfoIfAdmin() == '1'\\\" class=\\\"ui yellow basic button\\\"\\n            [routerLink]=\\\"['../../../admin', vaccinedate?.id, vaccinelocation?.id]\\\">\\n            <i class=\\\"write icon\\\"></i>Termin bearbeiten\\n        </a>\\n\\n    </div>\\n\\n</div>\";","import './polyfills';\n\nimport { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule).then(ref => {\n  // Ensure Angular destroys itself on hot reloads.\n  if (window['ngRef']) {\n    window['ngRef'].destroy();\n  }\n  window['ngRef'] = ref;\n\n  // Otherwise, log the boot error\n}).catch(err => console.error(err));"]}